<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title layout:fragment="title">Упражнения</title>
</head>

<main layout:fragment="content" class="w-full px-4 py-8 text-left">
    <div class="max-w-4xl mx-auto">
        <div class="animate-fade-in">
            <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">
                Мои занятия
            </h1>

            <!-- Панель управления: выбор даты и кнопки -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-8 flex flex-col md:flex-row justify-between items-center animate-slide-up gap-4">
                <div class="flex items-center gap-4">
                    <label for="dateInput" class="text-lg font-medium text-gray-700">Дата:</label>
                    <input type="date" id="dateInput"
                           class="border border-gray-300 rounded px-4 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-primary">
                </div>
                <div class="flex gap-2 mt-4 md:mt-0">
                    <button id="addEntryBtn" class="bg-primary text-white px-6 py-2 rounded-md hover:bg-green-700 transition whitespace-nowrap">
                        Добавить занятие
                    </button>
                    <button id="manageExercisesBtn" class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition whitespace-nowrap">
                        Управление упражнениями
                    </button>
                </div>
            </div>

            <!-- Список занятий -->
            <div id="exerciseEntriesList" class="space-y-6 animate-slide-up delay-200">
                <!-- Карточки занятий будут вставлены сюда через JS -->
            </div>
        </div>
    </div>

    <!-- Модальное окно для добавления занятия -->
    <div id="addEntryModal" class="fixed inset-0 bg-gray-900 bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md animate-slide-up">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Добавить занятие</h2>
            <form id="addEntryForm">
                <!-- Форма для добавления и редактирования занятия -->
                <div class="mb-4">
                    <label for="exerciseSearch" class="block text-sm font-medium text-gray-700 mb-1">Поиск упражнения</label>
                    <input type="text" id="exerciseSearch" name="exerciseSearch" autocomplete="off" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary">
                    <div id="exerciseSearchResults" class="bg-white border border-gray-200 rounded shadow mt-1 max-h-40 overflow-y-auto hidden"></div>
                </div>
                <div class="mb-4">
                    <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Длительность (минут)</label>
                    <input type="number" id="duration" name="duration" required min="1" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary">
                </div>
                <div class="mb-4">
                    <label for="entryDateTime" class="block text-sm font-medium text-gray-700 mb-1">Дата и время</label>
                    <input type="datetime-local" id="entryDateTime" name="entryDateTime" required class="w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary">
                </div>
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="cancelAddEntryBtn" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition">Отмена</button>
                    <button type="submit" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-green-700 transition">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/js/exercises.js"></script>
</main>

</html> 