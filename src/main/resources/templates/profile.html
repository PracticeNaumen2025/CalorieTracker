<!DOCTYPE html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>
    <title layout:fragment="title">Профиль</title>
</head>

<body>
<main layout:fragment="content" class="flex justify-center items-center min-h-[70vh] px-4">
    <div class="max-w-3xl w-full bg-white rounded-3xl shadow-lg p-8 flex gap-8 animate-fade-in">

        <div class="flex-shrink-0">
            <img
                    src="/img/gigaChad.jpeg"
                    alt="Аватар пользователя"
                    class="rounded-full w-36 h-36 object-cover border-4 border-primary shadow-md"
                    loading="lazy"
            />
        </div>

        <div class="flex flex-col justify-center space-y-6 text-gray-800 w-full">
            <h1 class="text-4xl font-extrabold text-primary mb-2 flex items-center gap-4">
                Мой профиль
                <button id="editProfileBtn" title="Редактировать профиль"
                        class="p-2 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-primary">

                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l.516 1.59a1.75 1.75 0 002.163 1.024l1.667-.668a1.75 1.75 0 012.09 2.09l-.668 1.667a1.75 1.75 0 001.024 2.163l1.59.516c.921.3.921 1.603 0 1.902l-1.59.516a1.75 1.75 0 00-1.024 2.163l.668 1.667a1.75 1.75 0 01-2.09 2.09l-1.667-.668a1.75 1.75 0 00-2.163 1.024l-.516 1.59c-.3.921-1.603.921-1.902 0l-.516-1.59a1.75 1.75 0 00-2.163-1.024l-1.667.668a1.75 1.75 0 01-2.09-2.09l.668-1.667a1.75 1.75 0 00-1.024-2.163l-1.59-.516c-.921-.3-.921-1.603 0-1.902l1.59-.516a1.75 1.75 0 001.024-2.163l-.668-1.667a1.75 1.75 0 012.09-2.09l1.667.668a1.75 1.75 0 002.163-1.024l.516-1.59z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                </button>
            </h1>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 text-lg">
                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A9 9 0 1118.88 6.196 9 9 0 015.121 17.804z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span><strong>Имя пользователя:</strong> <span id="username" class="ml-1 text-gray-700"></span></span>
                </div>

                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                        <line x1="16" y1="2" x2="16" y2="6" />
                        <line x1="8" y1="2" x2="8" y2="6" />
                        <line x1="3" y1="10" x2="21" y2="10" />
                    </svg>
                    <span><strong>Дата рождения:</strong> <span id="dob" class="ml-1 text-gray-700"></span></span>
                </div>

                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="7" r="4" />
                        <line x1="12" y1="11" x2="12" y2="21" />
                        <line x1="8" y1="21" x2="16" y2="21" />
                    </svg>
                    <span><strong>Пол:</strong> <span id="gender" class="ml-1 text-gray-700"></span></span>
                </div>

                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="20" x2="12" y2="4" />
                        <polyline points="8 8 12 4 16 8" />
                        <polyline points="8 16 12 20 16 16" />
                    </svg>
                    <span><strong>Рост (см):</strong> <span id="height" class="ml-1 text-gray-700"></span></span>
                </div>

                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <line x1="8" y1="16" x2="16" y2="8" />
                    </svg>
                    <span><strong>Вес (кг):</strong> <span id="weight" class="ml-1 text-gray-700"></span></span>
                </div>

                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-6a2 2 0 114 0v6m2 0v-3a4 4 0 10-8 0v3m8 0H7" />
                    </svg>
                    <span><strong>Уровень активности:</strong> <span id="activity" class="ml-1 text-gray-700"></span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно редактирования -->
    <div id="editProfileModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-xl p-6 max-w-md w-full shadow-lg relative">
            <h2 class="text-2xl font-bold mb-4">Редактировать профиль</h2>

            <form id="editProfileForm" class="space-y-4">
                <div>
                    <label for="dob" class="block font-medium mb-1">Дата рождения</label>
                    <input type="date" id="dob" name="dateOfBirth" class="w-full border rounded px-3 py-2" />
                </div>

                <div>
                    <label for="gender" class="block font-medium mb-1">Пол</label>
                    <select id="gender" name="gender" class="w-full border rounded px-3 py-2">
                        <option value="">-- Выберите --</option>
                        <option value="MALE">Мужской</option>
                        <option value="FEMALE">Женский</option>
                    </select>
                </div>

                <div>
                    <label for="height" class="block font-medium mb-1">Рост (см)</label>
                    <input type="number" step="0.1" id="height" name="heightCm" class="w-full border rounded px-3 py-2" />
                </div>

                <div>
                    <label for="weight" class="block font-medium mb-1">Вес (кг)</label>
                    <input type="number" step="0.1" id="weight" name="weightKg" class="w-full border rounded px-3 py-2" />
                </div>

                <div>
                    <label for="activity" class="block font-medium mb-1">Уровень активности</label>
                    <select id="activity" name="activityLevel" class="w-full border rounded px-3 py-2">
                        <option value="">-- Выберите --</option>
                        <option value="LOW">Низкий</option>
                        <option value="MEDIUM">Средний</option>
                        <option value="HIGH">Высокий</option>
                    </select>
                </div>

                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" id="cancelEditBtn" class="px-4 py-2 rounded border hover:bg-gray-100">Отмена</button>
                    <button type="submit" class="px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark">Сохранить</button>
                </div>
            </form>

            <button id="closeModalBtn" title="Закрыть" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800">
                &times;
            </button>
        </div>
    </div>


    <script th:src="@{/js/profile.js}"></script>
</main>
</body>
</html>
